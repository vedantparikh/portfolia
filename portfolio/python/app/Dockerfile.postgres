FROM postgres:16

# Copy environment file
COPY .env.docker /tmp/.env.docker

# Install additional tools if needed
RUN apt-get update && apt-get install -y \
    postgresql-contrib \
    && rm -rf /var/lib/apt/lists/*

# Set environment variables from the copied file
ENV POSTGRES_USER=username
ENV POSTGRES_PASSWORD=password
ENV POSTGRES_DB=portfolio

# Expose port
EXPOSE 5432

# Use default postgres entrypoint
CMD ["postgres"]
